name: Quality Check
on: [push, pull_request]

jobs:
  quality:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Set up Java
        uses: actions/setup-java@v3
        with:
          java-version: '22'
      
      - name: Run quality checks
        run: |
          chmod +x gradlew
          ./gradlew checkstyleMain pmdMain spotbugsMain test
          
      - name: Create simple badges
        run: |
          echo "## ðŸ“Š Quality Status" > BADGES.md
          echo "![Tests](https://img.shields.io/badge/tests-passing-success)" >> BADGES.md
          echo "![Checkstyle](https://img.shields.io/badge/checkstyle-enabled-blue)" >> BADGES.md
          echo "![PMD](https://img.shields.io/badge/PMD-enabled-blue)" >> BADGES.md
          echo "![SpotBugs](https://img.shields.io/badge/spotbugs-enabled-blue)" >> BADGES.md